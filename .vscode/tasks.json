{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Copy Source to Clipboard",
            "type": "shell",
            "command": "find ${workspaceFolder}/packages/server/src/cmd/server/main.go ${workspaceFolder}/packages/server/src/internal/hub/*.go -type f -exec printf \"\\n--- FILE: %s ---\\n\" {} \\; -exec cat {} \\; | xclip -selection clipboard -verbose",
            "presentation": {
                "reveal": "always",
                "panel": "shared",
                "clear": true
            },
            "problemMatcher": []
        },
        {
            "label": "Wait 2s",
            "type": "shell",
            "command": "sleep 2"
        },
        {
            "label": "Wait 5s",
            "type": "shell",
            "command": "sleep 5"
        },
        {
            "label": "Pprof Analysis",
            "type": "shell",
            "command": "go tool pprof -top http://localhost:8080/debug/pprof/profile?seconds=10",
            "dependsOrder": "sequence",
            "dependsOn": ["Wait 5s"],
            "problemMatcher": []
        }
    ]
}